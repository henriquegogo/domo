<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <title>DOMO - Nicely sweet DOM-Object-DOM with simplicity</title>
  
  <link href='http://fonts.googleapis.com/css?family=Ruda' rel='stylesheet' type='text/css'>

  <style>
    html {
      width: 100%;
      min-height: 100%;
    }
    body {
      margin: 0;
      width: 100%;
      height: 100%;
      font-family: Ruda, sans-serif;
      overflow-x: hidden;
      background: #E5EFF3;
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#BCD6E3', endColorstr='#E5EFF3');
      background: -webkit-gradient(linear, left top, left bottom, from(#BCD6E3), to(#E5EFF3));
      background: -moz-linear-gradient(top,  #BCD6E3,  #E5EFF3);
    }
    hr {
      clear: both;
      height: 10px;
      background: none;
      border: none;
      border-bottom: 1px solid #AAA;
    }
    code {
      display: block;
      padding: 15px !important;
      background: rgba(255, 255, 255, 0.7) !important;
      border-radius: 6px;
      -ms-border-radius: 6px;
      -moz-border-radius: 6px;
      -webkit-border-radius: 6px;
    }
    #header {
      position: relative;
      display: block;
      padding: 40px 0 10px;
      width: 100%;
      color: #FFF;
      background: #000;
    }
    #header h1 {
      margin: 0;
      font-size: 60px;
      font-weight: normal;
    }
    #header h2 {
      margin: 0;
    }
    #header img {
      position: absolute;
      bottom: -38px;
      right: 0;
    }
    #section {
      margin: 0 auto;
      padding: 20px 0;
      width: 750px;
    }
    #footer {
      position: relative;
      display: block;
      padding: 10px 0;
      width: 100%;
      font-size: 13px;
      color: #FFF;
      background: #000;
    }
    #footer a {
      font-weight: bold;
      text-decoration: none;
      color: #FFF;
    }
    #footer a:hover {
      text-decoration: underline;
    }
    .container {
      position: relative;
      margin: 0 auto;
      width: 750px;
    }
  </style>
</head>
<body>
  <div id="header">
    <div class="container">
      <h1>DOMO</h1>
      <h2>Nicely sweet DOM-Object-DOM with simplicity</h2>
      <img src="logo.png">
    </div>
  </div>

  <a href="http://github.com/henriquegogo/domo">
    <img alt="Fork me on GitHub" style="position: absolute; top: 0; right: 0; border: 0;" src="forkme.png">
  </a>

  <div id="section"></div>

  <div id="footer">
    <div class="container">
      © 2012 <a href="http://gogs.com.br">Henrique Gogó</a>.
      All code provided is open source under the MIT License.
    </div>
  </div>

<link rel="stylesheet" type="text/css" href="highlight.min.css">
<script type="text/javascript" src="highlight.min.js"></script>
<script type="text/javascript" src="showdown.js"></script>
<script type="text/javascript" src="src/domo.js"></script>

<script type="text/javascript">
 object = {
  list: ["First","Second","Third"],
  listWithOne: ["One item list"],
  parents: [
  { father: "Davidson", mother: "Sarah", sons: 
    ["Daniel", "Michael"]
  },
  { father: "Beggerson", mother: "Leka", sons:
    ["Mary","July"]
  }],
  name: "David",
  description: "This is an awesome lib.",
  sex: "Male", human: true, emails: false,
  civil_state: "Married", city: "NY",
  people: 
    { client: { id: "2", name: "Robert" },
      product: {Identify: "1", description: "Soccer shoes" }
    }
};

function load(url, callback) {
  var xmlhttp;
  xmlhttp = (window.XMLHttpRequest) ?
    new XMLHttpRequest() :
    new ActiveXObject("Microsoft.XMLHTTP");
  
  xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
      return callback(xmlhttp.responseText);
  }
  xmlhttp.open("GET", url, true);
  xmlhttp.send();
}

function runToDom() {
  object.toDom( this.parentElement );
}

function runToObject() {
  alert( JSON.stringify( this.parentElement.toObject() ) );
}


function applyMarkdown(text) {
  var converter = new Showdown.converter();
  var container = document.getElementById("section");
  container.innerHTML = converter.makeHtml(text);
  hljs.initHighlighting();
}

function applyRunCode() {
  var htmls = document.querySelectorAll("code.xml");

  for (var i in htmls) {
    var container = document.createElement("div");
    var text = htmls[i].textContent;

    if (text) {
      if (i <= 5)
        container.innerHTML = "<a href='javascript:void(0)' onclick='runToDom.call(this)'>Let's do <b><i>object</i>.toDom()</b></a><br><br>";
      else
        container.innerHTML = "<a href='javascript:void(0)' onclick='runToObject.call(this)'>Let's do <b><i>element</i>.toObject()</b></a><br><br>";

      container.innerHTML += text;
      htmls[i].parentElement.parentElement.insertBefore(container, htmls[i].parentElement.nextSibling);
    }
  }
}

load("README.md", function(text) { 
  applyMarkdown(text);
  applyRunCode();
});
</script>

<!-- ############################## GOOGLE ANALYTICS ############################## --> 
<script type="text/javascript"> 
 
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-15042231-1']);
  _gaq.push(['_setDomainName', '.gogs.com.br']);
  _gaq.push(['_trackPageview']);
 
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
 
</script> 
<!-- ############################################################################## --> 

</body>
</html>
